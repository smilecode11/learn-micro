(function(e,n){"object"===typeof exports&&"object"===typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports["micro-vue3"]=n():e["micro-vue3"]=n()})(self,(function(){return function(){"use strict";var e={611:function(e,n,o){o.r(n),o.d(n,{bootstrap:function(){return q},mount:function(){return V},unmount:function(){return A}});var t=o(963),r=o(252);function u(e,n,o,t,u,i){const a=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(a)}var i={name:"App",components:{}},a=o(744);const s=(0,a.Z)(i,[["render",u],["__scopeId","data-v-42b57c6f"]]);var l=s,c=o(166),p=o(577);const f=(0,r._)("h3",null,"Home Page",-1);function m(e,n,o,t,u,i){return(0,r.wg)(),(0,r.iD)(r.HY,null,[f,(0,r._)("p",null,(0,p.zw)(e.messageRef),1)],64)}var g=o(262),d=(0,r.aZ)({name:"HomePage",setup(){const e=(0,g.iH)("This is a vue3.0 project with Home page.");return{messageRef:e}}});const v=(0,a.Z)(d,[["render",m]]);var h=v;const w=(0,r._)("h3",null,"Login Page",-1),b={action:"#"},_=(0,r.Uk)("   "),y=(0,r.Uk)("  "),j=(0,r._)("hr",null,null,-1);function O(e,n,o,u,i,a){return(0,r.wg)(),(0,r.iD)(r.HY,null,[w,(0,r._)("p",null,(0,p.zw)(e.messageRef),1),(0,r._)("form",b,[(0,r.wy)((0,r._)("input",{type:"text",placeholder:"用户名","onUpdate:modelValue":n[0]||(n[0]=n=>e.loginForm.username=n)},null,512),[[t.nr,e.loginForm.username]]),_,(0,r.wy)((0,r._)("input",{type:"password",placeholder:"密码","onUpdate:modelValue":n[1]||(n[1]=n=>e.loginForm.password=n)},null,512),[[t.nr,e.loginForm.password]]),y,(0,r._)("button",{type:"submit",onClick:n[2]||(n[2]=(...n)=>e.login&&e.login(...n))},"登录")]),j,(0,r._)("div",null," login user:"+(0,p.zw)(e.loginUser.user||"未知")+" - role: "+(0,p.zw)(e.loginUser.role),1)],64)}var P=o(148),H=o.n(P);let x=null;const k=e=>{x=e},F=()=>x;var R=(0,r.aZ)({name:"LoginPage",setup(){const e=(0,g.iH)("This is a vue3.0 project with Login page."),n=(0,g.qj)({username:"",password:""}),o=e=>{e.preventDefault(),H().post("http://localhost:3000/vue3/login",{username:n.username,password:n.password}).then((e=>{console.log("登录成功"),200===e.status&&(t.user=e.data.username)}))},t=(0,g.qj)({user:"",role:1});return(0,r.bv)((()=>{const e=F();e.appInfo.footer.changeFooter(!1),e.appInfo.header.changeHeader(!1)})),{messageRef:e,loginForm:n,login:o,loginUser:t}}});const T=(0,a.Z)(R,[["render",O]]);var U=T;const Z=(0,r._)("h3",null,"Error Page",-1);function E(e,n,o,t,u,i){return(0,r.wg)(),(0,r.iD)(r.HY,null,[Z,(0,r._)("p",null,(0,p.zw)(e.messageRef),1)],64)}var z=(0,r.aZ)({name:"ErrorPage",setup(){const e=(0,g.iH)("This is a vue3.0 project with Error page.");return{messageRef:e}}});const S=(0,a.Z)(z,[["render",E]]);var C=S;const D=[{path:"/",redirect:"/home-page"},{name:"HomePage",path:"/home-page",component:h},{name:"LoginPage",path:"/login",component:U},{name:"ErrorPage",path:"/error-page",component:C}],I=(0,c.p7)({history:(0,c.r5)(),routes:D});var L=I;let M=null;const Y=()=>{M=(0,t.ri)(l),M.use(L).mount("#app-vue3")};window.__MICRO_WEB__||Y();const q=()=>{},V=e=>{Y(),k(e),window.custom.emit("testevent",{test:"123"}),window.custom.on("test1",(e=>{console.log("test1 on - ",e),window.custom.emit("test2",{test2:"123"})}))},A=()=>{console.log("unmount",M)}}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var u=n[t]={exports:{}};return e[t](u,u.exports,o),u.exports}o.m=e,function(){var e=[];o.O=function(n,t,r,u){if(!t){var i=1/0;for(c=0;c<e.length;c++){t=e[c][0],r=e[c][1],u=e[c][2];for(var a=!0,s=0;s<t.length;s++)(!1&u||i>=u)&&Object.keys(o.O).every((function(e){return o.O[e](t[s])}))?t.splice(s--,1):(a=!1,u<i&&(i=u));if(a){e.splice(c--,1);var l=r();void 0!==l&&(n=l)}}return n}u=u||0;for(var c=e.length;c>0&&e[c-1][2]>u;c--)e[c]=e[c-1];e[c]=[t,r,u]}}(),function(){o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,{a:n}),n}}(),function(){o.d=function(e,n){for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(n){return 0===e[n]};var n=function(n,t){var r,u,i=t[0],a=t[1],s=t[2],l=0;if(i.some((function(n){return 0!==e[n]}))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(s)var c=s(o)}for(n&&n(t);l<i.length;l++)u=i[l],o.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return o.O(c)},t=self["webpackChunkmicro_vue3"]=self["webpackChunkmicro_vue3"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=o.O(void 0,[998],(function(){return o(611)}));return t=o.O(t),t}()}));
//# sourceMappingURL=app.6e69bc23.js.map